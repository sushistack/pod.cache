# 013. 🛡️ AWS IAM 사용자 보안: 강력한 패스워드 정책과 MFA로 계정을 보호하는 방법

AWS IAM 사용자와 그룹의 보안은 필수적이며, 이를 위한 두 가지 핵심 방어 메커니즘은 패스워드 정책과 다중 인증(MFA)입니다. 패스워드 정책은 최소 길이, 문자 유형, 만료 및 재사용 방지 설정을 통해 무차별 대입 공격을 효과적으로 방어합니다. MFA는 '아는 것'과 '가진 것'을 결합하여 계정 탈취 위험을 크게 줄이며, 가상 MFA 또는 물리적 보안 키를 활용할 수 있습니다.

## 클라우드 보안의 핵심: IAM 사용자 보호

AWS Identity and Access Management(IAM)에서 사용자 계정과 그룹을 안전하게 보호하는 것은 견고한 클라우드 환경을 유지하는 데 가장 중요합니다. 계정 침해는 심각한 데이터 유출, 무단 리소스 접근, 그리고 상당한 운영 중단으로 이어질 수 있습니다. AWS는 IAM 사용자 보호를 위한 두 가지 핵심 방어 메커니즘을 제공합니다: 바로 **강력한 패스워드 정책** 설정과 **다중 인증(MFA)** 활성화입니다. 이 아티클에서는 이 두 가지 메커니즘을 자세히 살펴보고, AWS 계정의 보안을 한층 강화하는 방법을 안내합니다.

## 1. 계정 보안의 첫걸음: IAM 패스워드 정책

패스워드 정책은 IAM 사용자 계정에 대한 보안의 기본 방어선입니다. 강력한 패스워드는 무차별 대입 공격(Brute-force attack)으로부터 계정을 보호하는 데 결정적인 역할을 합니다. AWS는 IAM 패스워드 정책 설정을 통해 관리자가 보안 요구 사항에 맞게 패스워드 강도를 정의할 수 있도록 다양한 옵션을 제공합니다.

AWS에서 설정 가능한 주요 패스워드 정책 옵션은 다음과 같습니다:

*   **최소 패스워드 길이 설정:** 패스워드의 최소 길이를 지정하여 복잡성을 높입니다.
*   **특정 문자 유형 포함 요구:**
    *   대문자 (Uppercase letters)
    *   소문자 (Lowercase letters)
    *   숫자 (Numbers)
    *   영숫자가 아닌 특수 문자 (Non-alphanumeric characters, 예: `!@#$%^&*()`)
    와 같은 특정 문자 유형을 하나 이상 포함하도록 강제할 수 있습니다.
*   **IAM 사용자에게 패스워드 변경 허용/강제:**
    *   사용자가 자신의 패스워드를 변경할 수 있도록 허용합니다.
    *   특정 기간(예: 90일)이 지나면 패스워드를 변경하도록 강제하여 패스워드 만료를 설정합니다.
*   **패스워드 재사용 방지:** 사용자가 이전에 사용했던 패스워드를 다시 사용하지 못하도록 이전 패스워드 이력을 기억하고 재사용을 방지할 수 있습니다. 이는 패스워드 유출 시 재사용된 패스워드로 인한 추가적인 피해를 막는 데 중요합니다.

아래는 AWS CLI를 사용하여 강력한 패스워드 정책을 설정하는 예시입니다.

```bash
# AWS CLI 예시: 강력한 패스워드 정책 설정
aws iam update-account-password-policy \
    --minimum-password-length 14 \
    --require-symbols \
    --require-numbers \
    --require-uppercase-characters \
    --require-lowercase-characters \
    --max-password-age 90 \
    --password-reuse-prevention 5 \
    --allow-users-to-change-password
```

이러한 정책을 통해 무차별 대입 공격에 대한 방어력을 크게 향상시키고, 사용자들이 보안 강도가 높은 패스워드를 사용하도록 유도할 수 있습니다.

## 2. 한층 강화된 보안 장벽: 다중 인증(MFA)

패스워드 정책이 훌륭한 첫 방어선이기는 하지만, 패스워드가 유출되거나 해킹될 가능성은 항상 존재합니다. 이를 보완하기 위한 필수적인 보안 메커니즘이 바로 **다중 인증(Multi-Factor Authentication, MFA)**입니다. MFA는 사용자가 계정에 로그인할 때 단순히 패스워드만 요구하는 것이 아니라, 추가적인 인증 요소를 요구함으로써 보안을 크게 강화합니다. AWS에서는 모든 계정, 특히 루트 계정과 관리자 권한을 가진 IAM 사용자에게 MFA 활성화를 강력히 권장합니다.

### MFA의 작동 방식

MFA는 다음 두 가지 요소를 결합하여 인증을 수행합니다.

1.  **사용자가 아는 것 (Something You Know):** 패스워드
2.  **사용자가 가진 것 (Something You Own):** MFA 기기 (예: 스마트폰, 물리적 보안 키)

이 두 가지 요소가 모두 충족되어야만 로그인이 성공적으로 이루어집니다. 만약 패스워드가 유출되더라도, 해커가 물리적인 MFA 기기를 소유하지 않는 한 계정에 접근할 수 없으므로 계정 탈취 위험이 현저히 낮아집니다.

**예시:** `Alice`가 AWS 계정에 로그인할 때, 평소처럼 패스워드를 입력한 후, 자신의 스마트폰에 설치된 MFA 앱에서 생성된 6자리 코드를 추가로 입력해야만 로그인이 완료됩니다. 만약 `Alice`의 패스워드가 유출되더라도, 해커는 `Alice`의 스마트폰 없이는 계정에 접근할 수 없습니다.

### AWS에서 지원하는 MFA 기기 옵션

AWS는 다양한 MFA 기기 옵션을 제공하며, 시험 대비를 위해 이들을 숙지하는 것이 중요합니다.

#### 가상 MFA 기기 (Virtual MFA Device)

*   스마트폰에 설치하는 소프트웨어 기반의 TOTP(Time-based One-Time Password) 앱입니다.
*   **Google Authenticator**나 **Authy**와 같은 앱을 사용할 수 있습니다.
*   **Authy**의 경우, 단일 기기에서 여러 계정(루트 계정, 여러 IAM 사용자 계정 등)의 토큰을 관리할 수 있어 편리합니다.
*   가장 널리 사용되고 구현하기 쉬운 옵션입니다.

#### U2F(Universal 2nd Factor) 보안 키 (U2F Security Key)

*   Yubico의 **YubiKey**와 같은 물리적 USB 장치입니다.
*   AWS의 타사(Third-party) 파트너가 제공합니다.
*   단일 물리적 키로 여러 루트 및 IAM 사용자 계정을 보호할 수 있어 관리 부담이 적습니다.
*   키 포브에 달아 휴대하기 용이하며, 한 번의 터치로 인증을 완료할 수 있어 매우 편리하고 보안성이 높습니다.

#### 하드웨어 키 포브 MFA 기기 (Hardware Key Fob MFA Device)

*   Gemalto와 같은 타사(Third-party) 업체에서 제공하는 전용 물리적 장치입니다.
*   화면에 코드를 표시하는 독립적인 장치입니다.

#### AWS GovCloud(US)용 특수 키 포브 (Special Key Fob for AWS GovCloud (US))

*   미국 정부 클라우드인 AWS GovCloud 사용자를 위한 특수 MFA 기기입니다.
*   SurePassID와 같은 타사(Third-party) 업체가 제공합니다.

| MFA 기기 유형         | 설명                                                 | 특징                                                 |
| :-------------------- | :--------------------------------------------------- | :--------------------------------------------------- |
| **가상 MFA 기기**     | 스마트폰 앱 (Google Authenticator, Authy)            | 편리하고 저렴하며, Authy는 여러 계정 관리 가능       |
| **U2F 보안 키**       | 물리적 USB 장치 (YubiKey)                            | 높은 보안성, 여러 계정 지원, 휴대성                |
| **하드웨어 키 포브**  | 물리적 토큰 장치 (Gemalto)                           | 전용 하드웨어, 오프라인 환경에서도 사용 가능       |
| **GovCloud 특수 키**  | GovCloud(US) 전용 물리적 토큰 (SurePassID)           | 정부 클라우드 요구 사항 충족을 위한 특수 장치      |

## 결론

AWS IAM 계정을 안전하게 보호하는 것은 클라우드 인프라 보안의 가장 기본적인 단계입니다. 강력한 패스워드 정책을 수립하여 사용자들이 복잡하고 주기적으로 변경되는 패스워드를 사용하도록 유도하는 것은 무차별 대입 공격을 막는 데 필수적입니다. 여기에 더해 다중 인증(MFA)을 활성화함으로써, 패스워드 유출 시에도 계정이 무단으로 접근되는 것을 방지하는 강력한 이중 방어막을 구축할 수 있습니다.

루트 계정뿐만 아니라 모든 IAM 사용자에게 패스워드 정책과 MFA를 적용하는 것은 클라우드 환경의 전반적인 보안 태세를 크게 향상시킬 것입니다. 지금 바로 여러분의 AWS 계정에 이러한 보안 메커니즘을 적용하여 안전한 클라우드 여정을 시작하시길 바랍니다.