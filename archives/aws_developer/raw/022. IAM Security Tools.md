# 022. 🛡️ AWS IAM 보안 강화: 자격 증명 보고서와 액세스 어드바이저 활용법

AWS 클라우드 환경에서 IAM(Identity and Access Management)은 보안의 핵심입니다. 이 아티클은 계정의 보안 상태를 깊이 있게 파악하고 "최소 권한 원칙"을 효과적으로 구현하는 데 필수적인 두 가지 IAM 보안 도구인 `IAM 자격 증명 보고서`와 `IAM 액세스 어드바이저`의 중요성과 활용법을 소개합니다.

---

## 서론: 클라우드 보안의 초석, IAM 관리의 중요성

클라우드 기반 서비스의 확산과 함께, 접근 제어는 기업의 보안 전략에서 가장 중요한 부분으로 자리 잡았습니다. AWS IAM은 사용자, 그룹, 역할에 대한 접근 권한을 세밀하게 정의하고 관리할 수 있게 해주지만, 시간이 지남에 따라 불필요하거나 과도한 권한이 누적될 위험이 있습니다. 이는 잠재적인 보안 취약점으로 이어질 수 있습니다.

이러한 문제를 해결하고 강력한 보안 태세를 유지하기 위해 AWS는 여러 보안 도구를 제공합니다. 그중 `IAM 자격 증명 보고서(IAM Credentials Report)`와 `IAM 액세스 어드바이저(IAM Access Advisor)`는 계정 내 모든 사용자의 보안 상태를 진단하고, 부여된 권한의 적절성을 평가하는 데 매우 유용합니다. 본 아티클에서는 이 두 도구의 기능과 이를 활용하여 "최소 권한 원칙(Principle of Least Privilege)"을 어떻게 구현할 수 있는지 자세히 설명합니다.

## AWS IAM 보안의 핵심: 두 가지 필수 도구

AWS IAM 보안을 강화하기 위한 두 가지 핵심 도구를 소개합니다.

### 1. IAM 자격 증명 보고서 (IAM Credentials Report)

IAM 자격 증명 보고서는 AWS 계정 수준에서 생성되는 보고서로, 계정 내 모든 IAM 사용자 및 그들의 자격 증명(비밀번호, 액세스 키, MFA 장치 등) 상태에 대한 포괄적인 개요를 제공합니다.

#### 주요 정보 및 활용

*   **계정 전체 보안 진단**: 이 보고서는 모든 IAM 사용자의 비밀번호 마지막 변경일, 활성 액세스 키 유무, MFA 활성화 여부 등 중요한 보안 지표를 한눈에 볼 수 있도록 제공합니다.
*   **보안 감사 및 컴플라이언스**: 정기적인 보고서 생성을 통해 내부 보안 정책 준수 여부를 확인하고, 규제 요구사항에 대한 감사를 지원할 수 있습니다.
*   **위험 식별**: 오랫동안 비밀번호가 변경되지 않았거나, 사용되지 않는 액세스 키가 여전히 활성화되어 있는 사용자 등을 쉽게 식별하여 잠재적인 보안 위험을 사전에 인지하고 대응할 수 있습니다.

#### 보고서 생성 예시 (AWS CLI)

IAM 자격 증명 보고서는 AWS Management Console에서 직접 다운로드할 수도 있고, AWS CLI를 통해 프로그래밍 방식으로 생성 및 다운로드할 수도 있습니다.

```bash
# 1. 자격 증명 보고서 생성 요청
aws iam generate-credential-report

# 2. 보고서 내용 가져오기 (CSV 형식으로 디코딩하여 파일로 저장)
aws iam get-credential-report --query 'Content' --output text | base64 --decode > credential_report.csv
```

이 명령어를 통해 `credential_report.csv` 파일을 얻을 수 있으며, 이 파일을 분석하여 계정의 전반적인 자격 증명 보안 상태를 점검할 수 있습니다.

### 2. IAM 액세스 어드바이저 (IAM Access Advisor)

IAM 액세스 어드바이저는 개별 IAM 사용자, 그룹, 역할 수준에서 작동하는 도구입니다. 특정 엔티티에 부여된 서비스 권한 목록과 해당 서비스에 마지막으로 접근한 시점을 보여줍니다.

#### 최소 권한 원칙 구현의 핵심

*   **부여된 권한 확인**: 액세스 어드바이저는 특정 사용자나 역할에 부여된 모든 AWS 서비스 권한을 보여줍니다.
*   **사용 기록 분석**: 각 서비스에 마지막으로 접근한 시점을 제공하여, 실제로 어떤 서비스가 사용되고 있는지 명확히 파악할 수 있습니다. 접근 기록이 전혀 없거나 매우 오래된 서비스는 'Never accessed' 또는 오래된 접근 시점으로 표시됩니다.
*   **불필요한 권한 식별 및 제거**: 이 도구의 가장 큰 장점은 "최소 권한 원칙"을 구현하는 데 직접적인 도움을 준다는 것입니다. 만약 특정 서비스에 대한 권한이 부여되어 있지만, 액세스 어드바이저에서 해당 서비스에 접근한 기록이 전혀 없음을 보여준다면, 해당 권한은 불필요하다고 판단하고 제거를 고려할 수 있습니다.

#### 액세스 어드바이저 정보 확인 예시

액세스 어드바이저는 주로 AWS Management Console에서 시각적으로 확인하는 것이 편리합니다. 특정 IAM 사용자 페이지로 이동하면 'Access Advisor' 탭에서 다음 정보들을 확인할 수 있습니다.

*   **서비스 이름**: 사용자에게 접근 권한이 부여된 AWS 서비스 목록.
*   **마지막 접근 시점**: 각 서비스에 대해 해당 사용자가 마지막으로 접근한 시간. (접근 기록이 없는 경우 `Never accessed`로 표시될 수 있습니다.)

예를 들어, 어떤 개발자에게 EC2 인스턴스 관리 권한과 더불어 Lambda 함수 호출 권한도 부여했지만, 액세스 어드바이저를 통해 Lambda 서비스에 대한 접근 기록이 전혀 없음을 확인했다면, 해당 Lambda 권한은 제거하여 보안 취약점 노출 가능성을 줄일 수 있습니다.

## 결론: 지속적인 IAM 보안 관리의 중요성

IAM 보안은 한 번 설정하고 끝나는 작업이 아니라, 지속적인 모니터링과 최적화가 필요한 영역입니다. IAM 자격 증명 보고서와 IAM 액세스 어드바이저는 이러한 지속적인 보안 관리를 위한 강력한 도구입니다.

이 두 도구를 정기적으로 활용하여 다음 목표를 달성할 수 있습니다:

1.  **계정 전반의 자격 증명 상태 평가**: 자격 증명 보고서를 통해 보안 표준 미준수 사항을 식별하고 개선합니다.
2.  **"최소 권한 원칙" 준수**: 액세스 어드바이저를 통해 사용되지 않는 권한을 식별하고 제거하여, 각 사용자가 필요한 최소한의 권한만 가지도록 유지합니다.

이러한 노력을 통해 잠재적인 보안 위협으로부터 AWS 리소스를 보호하고, 더욱 안전하고 견고한 클라우드 환경을 구축할 수 있습니다. 다음 아티클에서는 이 두 도구를 직접 사용하여 실제 AWS 계정에서 어떻게 보안을 강화하는지 실습해보겠습니다.